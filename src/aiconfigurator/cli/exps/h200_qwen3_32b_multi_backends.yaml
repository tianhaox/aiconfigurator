# SPDX-FileCopyrightText: Copyright (c) 2025-2026 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

# define your experiments here, the order will determine the execution order.
exps:
  - vllm_agg
  - vllm_disagg
  - sglang_agg
  - sglang_disagg
  - trtllm_agg
  - trtllm_disagg

vllm_agg:
  mode: "patch"
  serving_mode: "agg" # required
  model_name: "QWEN3_32B" # required
  total_gpus: 8 # required
  system_name: "h200_sxm" # required, for prefill
  backend_name: "vllm"
  isl: 4000 # input sequence length
  osl: 500 # output sequence length
  ttft: 600.0  # Target TTFT in ms
  tpot: 16.7   # Target TPOT in ms

vllm_disagg:
  mode: "patch"
  serving_mode: "disagg" # required
  model_name: "QWEN3_32B" # required
  total_gpus: 8 # required
  system_name: "h200_sxm" # required, for prefill
  decode_system_name: "h200_sxm" # optional, if not provided, it will use the same system name as the prefill system.
  backend_name: "vllm"
  isl: 4000 # input sequence length
  osl: 500 # output sequence length
  ttft: 600.0  # Target TTFT in ms
  tpot: 16.7   # Target TPOT in ms

sglang_agg:
  mode: "patch"
  serving_mode: "agg" # required
  model_name: "QWEN3_32B" # required
  total_gpus: 8 # required
  system_name: "h200_sxm" # required, for prefill
  backend_name: "sglang"
  isl: 4000 # input sequence length
  osl: 500 # output sequence length
  ttft: 600.0  # Target TTFT in ms
  tpot: 16.7   # Target TPOT in ms

sglang_disagg:
  mode: "patch"
  serving_mode: "disagg" # required
  model_name: "QWEN3_32B" # required
  total_gpus: 8 # required
  system_name: "h200_sxm" # required, for prefill
  decode_system_name: "h200_sxm" # optional, if not provided, it will use the same system name as the prefill system.
  backend_name: "sglang"
  isl: 4000 # input sequence length
  osl: 500 # output sequence length
  ttft: 600.0  # Target TTFT in ms
  tpot: 16.7   # Target TPOT in ms

trtllm_agg:
  mode: "patch"
  serving_mode: "agg" # required
  model_name: "QWEN3_32B" # required
  total_gpus: 8 # required
  system_name: "h200_sxm" # required, for prefill
  backend_name: "trtllm"
  isl: 4000 # input sequence length
  osl: 500 # output sequence length
  ttft: 600.0  # Target TTFT in ms
  tpot: 16.7   # Target TPOT in ms

trtllm_disagg:
  mode: "patch"
  serving_mode: "disagg" # required
  model_name: "QWEN3_32B" # required
  total_gpus: 8 # required
  system_name: "h200_sxm" # required, for prefill
  decode_system_name: "h200_sxm" # optional, if not provided, it will use the same system name as the prefill system.
  backend_name: "trtllm"
  isl: 4000 # input sequence length
  osl: 500 # output sequence length
  ttft: 600.0  # Target TTFT in ms
  tpot: 16.7   # Target TPOT in ms